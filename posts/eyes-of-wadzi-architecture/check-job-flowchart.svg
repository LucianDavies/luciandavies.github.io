<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 440" font-family="'SF Mono','Fira Code','Cascadia Code',monospace">
  <style>
    .box { fill:#1e1e2e; stroke:#89b4fa; stroke-width:1.5; rx:8; }
    .diamond { fill:#1e1e2e; stroke:#f9e2af; stroke-width:1.5; }
    .result-green { fill:#1e1e2e; stroke:#a6e3a1; stroke-width:1.5; rx:8; }
    .result-red { fill:#1e1e2e; stroke:#f38ba8; stroke-width:1.5; rx:8; }
    .label { fill:#cdd6f4; text-anchor:middle; dominant-baseline:central; font-size:12px; }
    .note { fill:#a6adc8; font-size:11px; text-anchor:middle; }
    .arrow { stroke:#89b4fa; stroke-width:1.5; fill:none; marker-end:url(#a3); }
    .yes { fill:#a6e3a1; font-size:11px; font-weight:bold; }
    .no { fill:#f38ba8; font-size:11px; font-weight:bold; }
    .title { fill:#f38ba8; font-size:14px; font-weight:bold; text-anchor:middle; }
  </style>
  <defs>
    <marker id="a3" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#89b4fa"/>
    </marker>
  </defs>
  <rect width="600" height="440" fill="#181825" rx="12"/>

  <text x="300" y="28" class="title">check_drive_changes.py</text>

  <!-- Step 1 -->
  <rect x="150" y="48" width="280" height="40" class="box"/>
  <text x="290" y="68" class="label">Read last_sync.txt from cache</text>

  <line x1="290" y1="88" x2="290" y2="118" class="arrow"/>

  <!-- Diamond 1 -->
  <polygon points="290,120 400,160 290,200 180,160" class="diamond"/>
  <text x="290" y="160" class="label">Has timestamp?</text>

  <!-- No → left -->
  <line x1="180" y1="160" x2="110" y2="160" class="arrow"/>
  <text x="150" y="148" class="no">No</text>
  <rect x="10" y="140" width="140" height="44" class="result-green"/>
  <text x="80" y="155" class="label" fill="#a6e3a1">"Changed"</text>
  <text x="80" y="172" class="note">(first run)</text>

  <!-- Yes → down -->
  <line x1="290" y1="200" x2="290" y2="235" class="arrow"/>
  <text x="308" y="220" class="yes">Yes</text>

  <!-- Query API -->
  <rect x="130" y="240" width="320" height="40" class="box"/>
  <text x="290" y="260" class="label">Query Drive API: modified after?</text>

  <line x1="290" y1="280" x2="290" y2="315" class="arrow"/>

  <!-- Diamond 2 -->
  <polygon points="290,318 390,355 290,392 190,355" class="diamond"/>
  <text x="290" y="357" class="label">Changes?</text>

  <!-- Yes → left -->
  <line x1="190" y1="355" x2="110" y2="355" class="arrow"/>
  <text x="155" y="343" class="yes">Yes</text>
  <rect x="10" y="335" width="140" height="44" class="result-green"/>
  <text x="80" y="350" class="label" fill="#a6e3a1">"Changed"</text>
  <text x="80" y="367" class="note">(build)</text>

  <!-- No → right -->
  <line x1="390" y1="355" x2="450" y2="355" class="arrow"/>
  <text x="416" y="343" class="no">No</text>
  <rect x="455" y="335" width="140" height="44" class="result-red"/>
  <text x="525" y="350" class="label" fill="#f38ba8">"No changes"</text>
  <text x="525" y="367" class="note">(skip build)</text>
</svg>
