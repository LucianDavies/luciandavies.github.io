<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 560 420" font-family="'SF Mono','Fira Code','Cascadia Code',monospace" font-size="12">
  <style>
    .box { fill:#1e1e2e; stroke:#89b4fa; stroke-width:1.5; rx:8; }
    .diamond { fill:#1e1e2e; stroke:#f9e2af; stroke-width:1.5; }
    .result-yes { fill:#1e1e2e; stroke:#a6e3a1; stroke-width:1.5; rx:8; }
    .result-no { fill:#1e1e2e; stroke:#f38ba8; stroke-width:1.5; rx:8; }
    .label { fill:#cdd6f4; text-anchor:middle; dominant-baseline:central; }
    .note { fill:#a6adc8; font-size:11; text-anchor:middle; }
    .arrow { stroke:#89b4fa; stroke-width:1.5; fill:none; marker-end:url(#ah2); }
    .yes-lbl { fill:#a6e3a1; font-size:11; }
    .no-lbl { fill:#f38ba8; font-size:11; }
    .title { fill:#f38ba8; font-size:14; font-weight:bold; text-anchor:middle; }
  </style>
  <defs>
    <marker id="ah2" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#89b4fa"/>
    </marker>
  </defs>
  <rect width="560" height="420" fill="#181825" rx="12"/>

  <text x="280" y="28" class="title">check_drive_changes.py</text>

  <!-- Step 1: Read cache -->
  <rect x="170" y="48" width="220" height="36" class="box"/>
  <text x="280" y="66" class="label">Read last_sync.txt from cache</text>

  <line x1="280" y1="84" x2="280" y2="110" class="arrow"/>

  <!-- Diamond: Has timestamp? -->
  <polygon points="280,110 380,150 280,190 180,150" class="diamond"/>
  <text x="280" y="150" class="label">Has timestamp?</text>

  <!-- No branch (left) -->
  <line x1="180" y1="150" x2="90" y2="150" class="arrow"/>
  <text x="140" y="142" class="no-lbl">No</text>

  <rect x="20" y="132" width="120" height="36" class="result-yes" style="stroke:#a6e3a1;"/>
  <text x="80" y="145" class="label" fill="#a6e3a1">"Changed"</text>
  <text x="80" y="160" class="note">(first run)</text>

  <!-- Yes branch (down) -->
  <line x1="280" y1="190" x2="280" y2="225" class="arrow"/>
  <text x="296" y="210" class="yes-lbl">Yes</text>

  <!-- Step 2: Query API -->
  <rect x="150" y="228" width="260" height="36" class="box"/>
  <text x="280" y="246" class="label">Query Drive API: modified after?</text>

  <line x1="280" y1="264" x2="280" y2="300" class="arrow"/>

  <!-- Diamond: Changes? -->
  <polygon points="280,300 370,335 280,370 190,335" class="diamond"/>
  <text x="280" y="337" class="label">Changes?</text>

  <!-- Yes branch (left) -->
  <line x1="190" y1="335" x2="110" y2="335" class="arrow"/>
  <text x="155" y="327" class="yes-lbl">Yes</text>

  <rect x="20" y="317" width="120" height="36" class="result-yes"/>
  <text x="80" y="330" class="label" fill="#a6e3a1">"Changed"</text>
  <text x="80" y="345" class="note">(build)</text>

  <!-- No branch (right) -->
  <line x1="370" y1="335" x2="430" y2="335" class="arrow"/>
  <text x="396" y="327" class="no-lbl">No</text>

  <rect x="435" y="317" width="120" height="36" class="result-no"/>
  <text x="495" y="330" class="label" fill="#f38ba8">"No changes"</text>
  <text x="495" y="345" class="note">(skip build)</text>
</svg>
